Index: src/components/modal/CompanyModal.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><template>\r\n  <ModalLayout>\r\n    <div class=\"modal-title\">\r\n      업체관리 등록\r\n    </div>\r\n\r\n    <div class=\"modal-content\">\r\n      <v-container>\r\n        <v-row>\r\n          <v-col>\r\n            <v-text-field\r\n              v-model=\"company.companyName\"\r\n              label=\"업체명\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-text-field\r\n              v-model=\"company.businessRegistNumb\"\r\n              label=\"사업자번호\"\r\n            />\r\n          </v-col>\r\n          <v-col>\r\n            <v-text-field\r\n              v-model=\"company.companyTel\"\r\n              label=\"전화번호\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-textarea\r\n              filled\r\n              label=\"비고\"\r\n              v-model=\"company.remark\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <hr><br>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row style=\"margin-bottom: 10px\">\r\n          <v-col style=\"font-size: 20px;\">\r\n            업체담당자\r\n          </v-col>\r\n          <v-col style=\"text-align: right\">\r\n            <v-btn size=\"small\" @click=\"addManager()\" color=\"green\">담당자 추가</v-btn>\r\n            　\r\n            <v-btn size=\"small\" color=\"red\">담당자 삭제</v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-text-field\r\n              variant=\"outlined\"\r\n              v-model=\"companyManagerTemp.companyManagerName\"\r\n              label=\"담당자 명\"\r\n              density=\"compact\"\r\n            />\r\n          </v-col>\r\n          <v-col>\r\n            <v-text-field\r\n              variant=\"outlined\"\r\n              v-model=\"companyManagerTemp.companyManagerTel\"\r\n              label=\"담당자 번호\"\r\n              density=\"compact\"\r\n            />\r\n          </v-col>\r\n          <v-col>\r\n            <v-text-field\r\n              variant=\"outlined\"\r\n              v-model=\"companyManagerTemp.remark\"\r\n              label=\"비고\"\r\n              density=\"compact\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-data-table\r\n              style=\"height: 200px\"\r\n              :headers=\"headers\"\r\n              :items=\"companyManagers\"\r\n              :items-per-page-options=\"itemsPerPageOptions\"\r\n              class=\"elevation-1\"\r\n            ></v-data-table>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <div class=\"modal-btn-list\">\r\n            <v-btn\r\n              color=\"blue\"\r\n            >수정</v-btn>\r\n            　\r\n            <v-btn\r\n              color=\"green\"\r\n              @click=\"newCompany\"\r\n            >저장</v-btn>\r\n            　\r\n            <v-btn\r\n              color=\"red\"\r\n            >삭제</v-btn>\r\n          </div>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n  </ModalLayout>\r\n</template>\r\n\r\n<script setup>\r\nimport ModalLayout from \"@/layouts/ModalLayout.vue\";\r\nimport cmm from \"@/util/cmm\";\r\n\r\nconst itemsPerPageOptions = cmm.cmmConfig.itemsPerPageOptions;\r\nconst headers = [\r\n  { title: '담당자명', key:'companyManagerName' },\r\n  { title: '전화번호', key:'companyManagerTel'},\r\n  { title: '비고', key:'remark'},\r\n];\r\n\r\n</script>\r\n\r\n<script>\r\nimport companyApi from '@/api/company.js'\r\nexport default {\r\n  name: \"CompanyModal\",\r\n  mounted() {\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      company: {  // 업체\r\n        companyName: '',        // 업체명\r\n        businessRegistNumb: '', // 사업자번호\r\n        companyTel: '',         // 업체번호\r\n        remark: '',             // 비고\r\n        registUserName: '관리자' // 등록자\r\n      },\r\n\r\n      companyManagers: [],\r\n\r\n      companyManagerTemp: {   // 업체담당자\r\n        companyManagerName: '', // 업체담당자명\r\n        companyManagerTel: '',  // 업체담당자번호\r\n        remark: ''              // 비고\r\n      }\r\n    }\r\n  },\r\n  methods : {\r\n    newCompany: function() {\r\n      companyApi.newCompany(this.company);\r\n    },\r\n    addManager: function() {\r\n      console.log(this.companyManagerTemp);\r\n    },\r\n    deleteManager: function() {\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  @import \"@/assets/styles/modal.css\";\r\n</style>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/components/modal/CompanyModal.vue b/src/components/modal/CompanyModal.vue
--- a/src/components/modal/CompanyModal.vue	(revision 286b435a84fba3f0e871617a5fda5f2a7d504dec)
+++ b/src/components/modal/CompanyModal.vue	(date 1713768047195)
@@ -1,7 +1,8 @@
 <template>
   <ModalLayout>
     <div class="modal-title">
-      업체관리 등록
+      업체관리 {{ mode === Config.MODAL_MODE.DETAIL ? '상세'
+                : mode === Config.MODAL_MODE.REG ? '등록' : '수정' }}
     </div>
 
     <div class="modal-content">
@@ -112,25 +113,30 @@
 
 <script setup>
 import ModalLayout from "@/layouts/ModalLayout.vue";
-import cmm from "@/util/cmm";
-
-const itemsPerPageOptions = cmm.cmmConfig.itemsPerPageOptions;
 const headers = [
   { title: '담당자명', key:'companyManagerName' },
   { title: '전화번호', key:'companyManagerTel'},
   { title: '비고', key:'remark'},
 ];
-
 </script>
 
 <script>
 import companyApi from '@/api/company.js'
+import Config from "@/util/config";
+import store from "@/store/store";
 export default {
   name: "CompanyModal",
+  created() {
+  },
   mounted() {
+    console.log(store.getters.getParams.mode + ' : ' + store.getters.getParams.key);
   },
   data() {
     return {
+      itemsPerPageOptions: Config.ITEMS_PER_PAGE_OPTIONS,
+
+      mode: store.getters.getParams.mode,
+      key:store.getters.getParams.key,
 
       company: {  // 업체
         companyName: '',        // 업체명
Index: src/store/store.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { createStore } from 'vuex'\r\n\r\nconst store = createStore({\r\n  state: {\r\n    isOpenModal : false\r\n  },\r\n\r\n  getters: {\r\n    isOpenModal: function(state){\r\n      return state.isOpenModal;\r\n    }\r\n  },\r\n\r\n  mutations: {\r\n    toggleModal: function(state){\r\n      state.isOpenModal = !state.isOpenModal;\r\n    }\r\n  }\r\n})\r\n\r\nexport default store;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/store/store.js b/src/store/store.js
--- a/src/store/store.js	(revision 286b435a84fba3f0e871617a5fda5f2a7d504dec)
+++ b/src/store/store.js	(date 1713767621652)
@@ -2,17 +2,27 @@
 
 const store = createStore({
   state: {
-    isOpenModal : false
+    isOpenModal : false,
+    params: {
+      key : '',
+      mode : '',
+    }
   },
 
   getters: {
     isOpenModal: function(state){
       return state.isOpenModal;
+    },
+
+    getParams: function(state) {
+      return state.params;
     }
   },
 
   mutations: {
-    toggleModal: function(state){
+    /* params = {key : '', mode : ''} */
+    toggleModal: function(state, params = {}){
+      state.params = params;
       state.isOpenModal = !state.isOpenModal;
     }
   }
Index: src/util/cmm.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>export default {\r\n  name: \"cmm\",\r\n\r\n  cmmConfig: {\r\n    /* 페이지바 설정 */\r\n    itemsPerPageOptions : [\r\n      {value: 10, title: '10'},\r\n      {value: 25, title: '25'},\r\n      {value: 50, title: '50'},\r\n      {value: 100, title: '100'},\r\n    ],\r\n\r\n  }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/util/cmm.js b/src/util/cmm.js
--- a/src/util/cmm.js	(revision 286b435a84fba3f0e871617a5fda5f2a7d504dec)
+++ b/src/util/cmm.js	(date 1713766852070)
@@ -1,15 +1,3 @@
 export default {
-  name: "cmm",
-
-  cmmConfig: {
-    /* 페이지바 설정 */
-    itemsPerPageOptions : [
-      {value: 10, title: '10'},
-      {value: 25, title: '25'},
-      {value: 50, title: '50'},
-      {value: 100, title: '100'},
-    ],
-
-  }
-
+  name: "cmm"
 }
Index: src/util/config.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/util/config.js b/src/util/config.js
new file mode 100644
--- /dev/null	(date 1713766980362)
+++ b/src/util/config.js	(date 1713766980362)
@@ -0,0 +1,16 @@
+export default {
+  /* 페이지바 설정 */
+  ITEMS_PER_PAGE_OPTIONS : [
+    {value: 10, title: '10'},
+    {value: 25, title: '25'},
+    {value: 50, title: '50'},
+    {value: 100, title: '100'},
+  ],
+
+  /* 모달 모드 등록,상세,삭제 */
+  MODAL_MODE : {
+    REG: 'R'
+    , DETAIL: 'D'
+    , MOD: 'M'
+  }
+}
Index: src/views/company/CompanyList.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><template>\r\n  <CompanyModal v-if=\"store.getters.isOpenModal\" />\r\n\r\n  <v-card class=\"table-container_mt\">\r\n    <div class=\"table-title_mt\">\r\n      업체 관리\r\n    </div>\r\n\r\n    <v-card-title>\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        prepend-inner-icon=\"mdi-magnify\"\r\n        label=\"검색\"\r\n      ></v-text-field>\r\n    </v-card-title>\r\n\r\n    <div class=\"table-btn-list\">\r\n      <v-btn color=\"#5865f2\" @click=\"store.commit('toggleModal')\">등록</v-btn>\r\n    </div>\r\n\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"companys\"\r\n      item-value=\"companyId\"\r\n      :search=\"search\"\r\n      :items-per-page-options=\"itemsPerPageOptions\"\r\n      class=\"elevation-1 table-list_mt\"\r\n    >\r\n\r\n    </v-data-table>\r\n  </v-card>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport cmm from '@/util/cmm.js'\r\nimport CompanyModal from \"@/components/modal/CompanyModal.vue\";\r\nimport store from \"@/store/store\";\r\n\r\nconst itemsPerPageOptions = cmm.cmmConfig.itemsPerPageOptions;\r\n\r\nconst headers = [\r\n  { title: '업체명', key:'companyName' },\r\n  { title: '사업자번호', key:'businessRegistNumb'},\r\n  { title: '전화번호', key:'companyTel'},\r\n  { title: '비고',  key:'remark'},\r\n  { title: '등록일자',  key:'registDate'},\r\n  { title: '등록자',  key:'registUserName'},\r\n];\r\n\r\n</script>\r\n\r\n<script>\r\nimport companyApi from '@/api/company.js'\r\nimport store from \"@/store/store\";\r\n\r\nexport default {\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.getCompanys();\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      search: '',\r\n      companys: []\r\n    };\r\n  },\r\n  methods: {\r\n    async getCompanys(){\r\n      await companyApi.companys().then(res => {\r\n        this.companys = res.data;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/views/company/CompanyList.vue b/src/views/company/CompanyList.vue
--- a/src/views/company/CompanyList.vue	(revision 286b435a84fba3f0e871617a5fda5f2a7d504dec)
+++ b/src/views/company/CompanyList.vue	(date 1713767965466)
@@ -1,5 +1,7 @@
 <template>
-  <CompanyModal v-if="store.getters.isOpenModal" />
+  <CompanyModal
+    v-if="store.getters.isOpenModal"
+  />
 
   <v-card class="table-container_mt">
     <div class="table-title_mt">
@@ -15,13 +17,13 @@
     </v-card-title>
 
     <div class="table-btn-list">
-      <v-btn color="#5865f2" @click="store.commit('toggleModal')">등록</v-btn>
+      <v-btn color="#5865f2" @click="openReg">등록</v-btn>
     </div>
 
     <v-data-table
+      @click:row="openDetail"
       :headers="headers"
       :items="companys"
-      item-value="companyId"
       :search="search"
       :items-per-page-options="itemsPerPageOptions"
       class="elevation-1 table-list_mt"
@@ -33,11 +35,11 @@
 </template>
 
 <script setup>
-import cmm from '@/util/cmm.js'
+import Config from "@/util/config"
 import CompanyModal from "@/components/modal/CompanyModal.vue";
 import store from "@/store/store";
 
-const itemsPerPageOptions = cmm.cmmConfig.itemsPerPageOptions;
+const itemsPerPageOptions = Config.ITEMS_PER_PAGE_OPTIONS;
 
 const headers = [
   { title: '업체명', key:'companyName' },
@@ -53,6 +55,7 @@
 <script>
 import companyApi from '@/api/company.js'
 import store from "@/store/store";
+import Config from "@/util/config";
 
 export default {
   created() {
@@ -63,15 +66,27 @@
   },
   data() {
     return {
-      search: '',
-      companys: []
+      search: '',     // 검색텍스트
+      companys: [],   // 업체 Array
     };
   },
   methods: {
+    /* company 목록 조회 */
     async getCompanys(){
       await companyApi.companys().then(res => {
         this.companys = res.data;
       });
+    },
+
+    /* 등록화면 */
+    openReg(){
+      this.modalMode = Config.MODAL_MODE.REG;
+      store.commit('toggleModal', {key: '', mode: Config.MODAL_MODE.REG});
+    },
+
+    /* 상세조회화면 */
+    openDetail(item, row) {
+      store.commit('toggleModal', {key: row.item.companyId, mode: Config.MODAL_MODE.DETAIL});
     }
   }
 };
